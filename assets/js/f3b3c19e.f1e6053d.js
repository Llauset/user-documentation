"use strict";(self.webpackChunkmesodocs=self.webpackChunkmesodocs||[]).push([[7745],{4137:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>f});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=a.createContext({}),i=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=i(e.components);return a.createElement(u.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=i(n),d=o,f=m["".concat(u,".").concat(d)]||m[d]||p[d]||r;return n?a.createElement(f,l(l({ref:t},c),{},{components:n})):a.createElement(f,l({ref:t},c))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,l=new Array(r);l[0]=d;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[m]="string"==typeof e?e:o,l[1]=s;for(var i=2;i<r;i++)l[i]=n[i];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},425:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(7294),o=n(6010);const r={tabItem:"tabItem_Ymn6"};function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,o.Z)(r.tabItem,l),hidden:n},t)}},3992:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(7462),o=n(7294),r=n(6010),l=n(2957),s=n(6550),u=n(5238),i=n(3609),c=n(2560);function m(e){return function(e){return o.Children.map(e,(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:o}}=e;return{value:t,label:n,attributes:a,default:o}}))}function p(e){const{values:t,children:n}=e;return(0,o.useMemo)((()=>{const e=t??m(n);return function(e){const t=(0,i.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function d(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const a=(0,s.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,u._X)(r),(0,o.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})}),[r,a])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=p(e),[l,s]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:r}))),[u,i]=f({queryString:n,groupId:a}),[m,b]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,r]=(0,c.Nk)(n);return[a,(0,o.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),k=(()=>{const e=u??m;return d({value:e,tabValues:r})?e:null})();(0,o.useLayoutEffect)((()=>{k&&s(k)}),[k]);return{selectedValue:l,selectValue:(0,o.useCallback)((e=>{if(!d({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);s(e),i(e),b(e)}),[i,b,r]),tabValues:r}}var k=n(1048);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function h(e){let{className:t,block:n,selectedValue:s,selectValue:u,tabValues:i}=e;const c=[],{blockElementScrollPositionUntilNextRender:m}=(0,l.o5)(),p=e=>{const t=e.currentTarget,n=c.indexOf(t),a=i[n].value;a!==s&&(m(t),u(a))},d=e=>{let t=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return o.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},i.map((e=>{let{value:t,label:n,attributes:l}=e;return o.createElement("li",(0,a.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>c.push(e),onKeyDown:d,onClick:p},l,{className:(0,r.Z)("tabs__item",g.tabItem,l?.className,{"tabs__item--active":s===t})}),n??t)})))}function v(e){let{lazy:t,children:n,selectedValue:a}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===a));return e?(0,o.cloneElement)(e,{className:"margin-top--md"}):null}return o.createElement("div",{className:"margin-top--md"},r.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function N(e){const t=b(e);return o.createElement("div",{className:(0,r.Z)("tabs-container",g.tabList)},o.createElement(h,(0,a.Z)({},e,t)),o.createElement(v,(0,a.Z)({},e,t)))}function y(e){const t=(0,k.Z)();return o.createElement(N,(0,a.Z)({key:String(t)},e))}},8424:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>u,default:()=>f,frontMatter:()=>s,metadata:()=>i,toc:()=>m});var a=n(7462),o=(n(7294),n(4137)),r=n(3992),l=n(425);const s={title:"Ma consommation",sidebar_position:2},u="Visualiser ma consommation sur turpan",i={unversionedId:"arch_exp/turpan/accounting/maconso",id:"arch_exp/turpan/accounting/maconso",title:"Ma consommation",description:"Pour afficher les informations sur votre consommation, 4 commandes sont \xe0 votre disposition :",source:"@site/docs/arch_exp/turpan/accounting/maconso.md",sourceDirName:"arch_exp/turpan/accounting",slug:"/arch_exp/turpan/accounting/maconso",permalink:"/documentation/user-documentation/arch_exp/turpan/accounting/maconso",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Ma consommation",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Les r\xe8gles",permalink:"/documentation/user-documentation/arch_exp/turpan/accounting/accounting-rules"},next:{title:"Environnement de d\xe9veloppement",permalink:"/documentation/user-documentation/arch_exp/turpan/softenv"}},c={},m=[{value:"Le d\xe9tail des commandes",id:"le-d\xe9tail-des-commandes",level:2}],p={toc:m},d="wrapper";function f(e){let{components:t,...n}=e;return(0,o.kt)(d,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"visualiser-ma-consommation-sur-turpan"},"Visualiser ma consommation sur turpan"),(0,o.kt)("p",null,"Pour afficher les informations sur votre consommation, 4 commandes sont \xe0 votre disposition :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"maconso")," : Affiche la consommation de son projet"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"maconso_detail")," : Affiche la consommation des membres de son projet"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"maconso_job")," : Affiche la consommation de ses 5 derniers jobs"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"maconso_jobid")," jobid ","[...]"," : Affiche la consommation des jobs list\xe9s s\u2019ils appartiennent \xe0 son projet")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Toutes les commandes pr\xe9sent\xe9es dans ce document affichent les informations relatives \xe0 la consommation de votre projet jusqu\u2019\xe0 la date de la veille au soir \xe0 23H59")),(0,o.kt)("h2",{id:"le-d\xe9tail-des-commandes"},"Le d\xe9tail des commandes"),(0,o.kt)(r.Z,{mdxType:"Tabs"},(0,o.kt)(l.Z,{label:"maconso",value:"maconso",default:!0,mdxType:"TabItem"},(0,o.kt)("p",null,"Cette commande affiche la consommation de votre projet en date de la veille \xe0 23H59:"),(0,o.kt)("p",null,"Un exemple pris le 26 Septembre 2023:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"maconso\n")),(0,o.kt)("blockquote",null,(0,o.kt)("pre",{parentName:"blockquote"},(0,o.kt)("code",{parentName:"pre"},"Consommation de votre groupe jusqu'au 25-09-2023 23H59 :\n\n+--------+------------+-------------------------------+--------------+\n|  Nom   | Soumission | Consommation en cours (HH:MM) | Consommation |\n| groupe |   de job   +---------------+---------------+   maximum    |\n|        |            |      cpu      |      gpu      |   (HH:MM)    |\n+========+============+===============+===============+==============+\n| m23007 |    Oui     |   1000:00     |   900:00      |   50000:00   |\n+--------+------------+---------------+---------------+              +\n|    Normalisation    |   1000:00     |     0:00      |              |\n+=====================+===============+===============+==============+\n         |   Total    |          1000:00              |               \n         +------------+-------------------------------+\n"))),(0,o.kt)("p",null,"L\xe9gende :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Consommation maximum")," : Heures de calcul allou\xe9es au projet"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Consommation en cours (HH:MM)")," : Heures de calcul brutes consomm\xe9es par le projet (par ressource)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Normalisation")," : Heures de calcul normalis\xe9es, consomm\xe9es par le projet (par ressource). La normalisation consiste \xe0 multiplier les heures gpu par 33"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Total")," : Total des heures de calcul normalis\xe9es consomm\xe9es par le projet")),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Si votre projet a d\xe9pass\xe9 le nombre d\u2019heures de calcul allou\xe9es au projet, alors vous ne pourrez plus soumettre de nouveaux jobs. Dans ce cas, le texte suivant appara\xeetra en dessous des informations de consommation :"),(0,o.kt)("blockquote",{parentName:"admonition"},(0,o.kt)("pre",{parentName:"blockquote"},(0,o.kt)("code",{parentName:"pre"},"Consommation de ressources trop importante.\nLa consommation de votre groupe a depasse la limite autorisee.\nVous ne pourrez plus soumettre de requete.\n"))))),(0,o.kt)(l.Z,{label:"maconso_detail",value:"maconso-detail",mdxType:"TabItem"},(0,o.kt)("p",null,"Cette commande affiche la consommation pour chaque utilisateur de son projet en date de la veille \xe0 23H59."),(0,o.kt)("p",null,"Un exemple pris le 26 Septembre 2023:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"maconso_detail\n")),(0,o.kt)("blockquote",null,(0,o.kt)("pre",{parentName:"blockquote"},(0,o.kt)("code",{parentName:"pre"},"Consommation de votre groupe jusqu'au 25-09-2023 23H59 :\n\n+-------------+--------------+-------------------------------------+--------------------+\n|             |     Nom      |    Consommation en cours (HH:MM)    | Total consommation |\n| Identifiant | Utitlisateur +------------------+------------------|  en cours (HH:MM)  |\n|             |              | cpu (Normalisee) | gpu (Normalisee) |                    |\n+=============+==============+==================+==================+====================+\n| m23007stnl  |  m23007stnl  | 500:00 (500:00)  |  400:00 (0:00)   |      500:00        |\n+-------------+--------------+------------------+------------------+--------------------+\n| m23007xyzt  |  m23007xyzt  | 500:00 (500:00)  |  500:00 (0:00)   |      500:00        |\n+=============+==============+==================+==================+====================+\n                                                                   |     1000:00        |\n                                                                   +--------------------+\n"))),(0,o.kt)("p",null,"L\xe9gende :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Consommation en cours (HH:MM)")," : Heures de calcul brutes consomm\xe9es par l\u2019utilisateur (par ressource) avec entre parenth\xe8se la consommation normalis\xe9e"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Total consommation en cours (HH:MM)")," : Total des heures de calcul normalis\xe9es, consomm\xe9es par l\u2019ensemble des utilisateurs du projet"))),(0,o.kt)(l.Z,{label:"maconso_job",value:"maconso-job",mdxType:"TabItem"},(0,o.kt)("p",null,"Cette commande affiche la consommation des derniers jobs (5 par d\xe9faut) en date de la veille \xe0 23H59:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"maconso_job\n")),(0,o.kt)("blockquote",null,(0,o.kt)("pre",{parentName:"blockquote"},(0,o.kt)("code",{parentName:"pre"},"+-------------+-------------+--------+-------------------------------------+--------------------+\n|             |             |        |          Consommation               |                    |\n| Identifiant | Date de fin | Job ID |           en cours (HH:MM)          | Total consommation |\n|             |             |        +------------------+------------------|  en cours (HH:MM)  |\n|             |             |        | cpu (Normalisee) | gpu (Normalisee) |                    |\n+=============+=============+========+==================+==================+====================+\n| m23007stnl  | 2023-09-23  | 36130  |  100:00 (100:00) |  90:00 (0:00)    |      100:00        |\n+             +             +--------+------------------+------------------+--------------------+\n|             |             | 36129  |  150:00 (150:00) | 100:00 (0:00)    |      150:00        |\n+             +-------------+--------+------------------+------------------+--------------------+\n|             | 2023-09-22  | 30827  |  250:00 (250:00) |  50:00 (0:00)    |      250:00        |\n+             +             +--------+------------------+------------------+--------------------+\n|             |             | 30826  |  350:00 (350:00) | 200:00 (0:00)    |      350:00        |\n+             +             +--------+------------------+------------------+--------------------+\n|             |             | 30824  |   50:00 (50:00)  |  70:00 (0:00)    |       50:00        |\n+=============+=============+========+==================+==================+====================+\n                                                                           |      900:00        |\n                                                                           +--------------------+\n"))),(0,o.kt)("p",null,"L\xe9gende :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Consommation en cours (HH:MM)")," : Heures de calcul brutes, consomm\xe9es par le job (par ressource) avec entre parenth\xe8se la consommation normalis\xe9e"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Total consommation en cours (HH:MM)")," : Total des heures de calcul normalis\xe9es consomm\xe9es par l\u2019ensemble des jobs affich\xe9es")),(0,o.kt)("p",null,"Pour afficher la consommation des 10 derniers jobs:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"maconso_job 10\n")),(0,o.kt)("p",null,"Pour afficher la consommation des jobs list\xe9s en date de la veille \xe0 23H59 s\u2019ils appartiennent \xe0 votre projet"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"maconso_job 36130 36129\n")),(0,o.kt)("blockquote",null,(0,o.kt)("pre",{parentName:"blockquote"},(0,o.kt)("code",{parentName:"pre"},"+-------------+-------------+--------+-------------------------------------+--------------------+\n|             |             |        |          Consommation               |                    |\n| Identifiant | Date de fin | Job ID |           en cours (HH:MM)          | Total consommation |\n|             |             |        +------------------+------------------|  en cours (HH:MM)  |\n|             |             |        | cpu (Normalisee) | gpu (Normalisee) |                    |\n+=============+=============+========+==================+==================+====================+\n| m23007stnl  | 2023-09-23  | 36130  |  100:00 (100:00) |   90:00 (0:00)   |       100:00       |\n+             +             +--------+------------------+------------------+--------------------+\n|             |             | 36129  |  150:00 (150:00) |    100:00 (0:00) |       150:00       |\n+=============+=============+========+==================+==================+====================+\n                                                                           |       250:00       |\n                                                                           +--------------------+\n"))),(0,o.kt)("p",null,"L\xe9gende :"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Consommation en cours (HH:MM)")," : Heures de calcul brutes, consomm\xe9es par le job (par ressource) avec entre parenth\xe8se la consommation normalis\xe9e"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Total consommation en cours (HH:MM)")," : Total des heures de calcul normalis\xe9es consomm\xe9es par l\u2019ensemble des jobs affich\xe9s")))))}f.isMDXComponent=!0}}]);